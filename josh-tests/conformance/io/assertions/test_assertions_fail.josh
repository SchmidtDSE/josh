// @category: io
// @subcategory: assertions
// @priority: critical
// @expected: fail
// @description: Test intentional assertion failure - verifies that the test framework correctly detects assertion failures

start simulation AssertionsFail

  grid.size = 10 m
  grid.low.x = 0 m
  grid.low.y = 0 m
  grid.high.x = 100 m
  grid.high.y = 100 m  // 10x10 grid
  grid.patch = "Default"

  steps.low = 0 count
  steps.high = 3 count

  stepCount.init = 0 count
  stepCount.step = prior.stepCount + 1 count

end simulation

start patch Default

  // Create organisms at init
  Tree.init = create 5 count of Tree

  // Passing assertion: correct count
  treeCount.step = count(Tree)
  assert.treeCountCorrect.step = treeCount == 5 count

  // INTENTIONAL FAILURE: This assertion should fail
  // Asserting that count is 10 when it's actually 5
  assert.treeCountWrong.step = treeCount == 10 count

  // This assertion would pass but won't be reached if framework stops on first failure
  assert.treeCountPositive.step = treeCount > 0 count

end patch

start organism Tree

  age.init = 0 year
  age.step = prior.age + 1 year

  // Passing assertion
  assert.ageValid.step = current.age >= 0 years

end organism

start unit year
  alias years
  alias yr
  alias yrs
end unit

start unit m
  alias meter
  alias meters
end unit

start unit count
end unit

start unit degrees
end unit
